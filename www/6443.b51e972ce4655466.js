"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6443],{6443:(U,v,r)=>{r.r(v),r.d(v,{SongsFavoritePageModule:()=>y});var l=r(6814),m=r(95),t=r(5548),u=r(4248),f=r(5861),o=r(6689),p=r(4423),h=r(8027);function F(e,a){1&e&&(o.TgZ(0,"div",10),o._UZ(1,"ion-spinner",11),o.qZA())}const Z=function(e){return["/musicas",e]};function S(e,a){if(1&e){const i=o.EpF();o.TgZ(0,"ion-card")(1,"ion-item-sliding")(2,"ion-item",12)(3,"div",13),o._uU(4),o.qZA(),o.TgZ(5,"ion-label")(6,"h4"),o._uU(7),o.qZA(),o.TgZ(8,"p"),o._uU(9),o.qZA()()(),o.TgZ(10,"ion-item-options")(11,"ion-item-option",14)(12,"ion-icon",15),o.NdJ("click",function(){const g=o.CHM(i).$implicit,c=o.oxw();return o.KtG(c.removeFavorite(g.id))}),o.qZA()()()()()}if(2&e){const i=a.$implicit;o.xp6(2),o.Q6J("routerLink",o.VKq(4,Z,i.number)),o.xp6(2),o.Oqu(i.number),o.xp6(3),o.Oqu(i.title),o.xp6(2),o.Oqu(i.resume)}}function T(e,a){1&e&&(o.TgZ(0,"div",16)(1,"h4"),o._uU(2,"Est\xe1 quieto aqui!"),o.qZA(),o._UZ(3,"img",17),o.TgZ(4,"p"),o._uU(5,"Acesse uma m\xfasica e clique na "),o._UZ(6,"ion-icon",18),o._uU(7," pra adicion\xe1-la \xe0s suas "),o.TgZ(8,"b"),o._uU(9,"Favoritas"),o.qZA(),o._uU(10,". "),o.qZA()())}const P=[{path:"",component:(()=>{var e;class a{constructor(n,s,g){this.songService=n,this.errorService=s,this.toastController=g,this.loading=!0}ngOnInit(){this.getFavorites()}getFavorites(n){this.songService.listFavorites().subscribe(s=>{this.songs=s,null==n||n.target.complete(),this.loading=!1})}removeFavorite(n){const s={songId:n,action:"detach"},g=this.songs.findIndex(c=>c.id===n);this.songService.syncFavorite(s).subscribe(c=>{!0===c.success?(this.presentToast("M\xfasica removida das favoritas."),this.songs.splice(g,1)):this.presentToast("Erro ao remover das favoritas")},c=>{this.loading=!1,this.errorService.handleError(c)})}presentToast(n){var s=this;return(0,f.Z)(function*(){yield(yield s.toastController.create({message:n,duration:2e3})).present()})()}}return(e=a).\u0275fac=function(n){return new(n||e)(o.Y36(p.o),o.Y36(h.T),o.Y36(t.yF))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-songs-favorite"]],decls:12,vars:5,consts:[["mode","ios","collapse","fade",3,"translucent"],["mode","md"],["slot","start"],["defaultHref","/musicas"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[1,"mx-4","mb-6","font-semibold"],["class","loading",4,"ngIf"],[4,"ngFor","ngForOf"],["class","empty",4,"ngIf"],[1,"loading"],["name","dots"],["lines","none",3,"routerLink"],[1,"song-number"],["color","light"],["slot","icon-only","name","remove-circle-outline","color","danger",3,"click"],[1,"empty"],["src","./assets/images/empty_favorites.jpg","alt",""],["name","star-outline"]],template:function(n,s){1&n&&(o.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),o._UZ(3,"ion-back-button",3),o.qZA()()(),o.TgZ(4,"ion-content",4)(5,"ion-refresher",5),o.NdJ("ionRefresh",function(c){return s.getFavorites(c)}),o._UZ(6,"ion-refresher-content"),o.qZA(),o.TgZ(7,"h2",6),o._uU(8,"M\xfasicas favoritas"),o.qZA(),o.YNc(9,F,2,0,"div",7),o.YNc(10,S,13,6,"ion-card",8),o.YNc(11,T,11,0,"div",9),o.qZA()),2&n&&(o.Q6J("translucent",!0),o.xp6(4),o.Q6J("fullscreen",!0),o.xp6(5),o.Q6J("ngIf",s.loading),o.xp6(1),o.Q6J("ngForOf",s.songs),o.xp6(1),o.Q6J("ngIf",!s.loading&&0==s.songs.length))},dependencies:[l.sg,l.O5,t.oU,t.Sm,t.PM,t.W2,t.Gu,t.gu,t.Ie,t.u8,t.IK,t.td,t.Q$,t.nJ,t.Wo,t.PQ,t.sr,t.cs,t.YI,u.rH]}),a})()}];let A=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[u.Bz.forChild(P),u.Bz]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[l.ez,m.u5,t.Pc,A]}),e})()}}]);