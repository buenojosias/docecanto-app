"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2941],{2941:(M,u,a)=>{a.r(u),a.d(u,{EventsShowPageModule:()=>y});var e=a(6689),l=a(6814),_=a(95),s=a(5548),d=a(4248),f=a(5861),p=a(1457),v=a(8027);function h(n,r){1&n&&e._UZ(0,"ion-progress-bar",8)}const m=function(n){return["/musicas",n]};function w(n,r){if(1&n&&(e.TgZ(0,"ion-item",11)(1,"div",12),e._uU(2),e.qZA(),e.TgZ(3,"ion-label")(4,"h2"),e._uU(5),e.qZA()()()),2&n){const t=r.$implicit;e.Q6J("routerLink",e.VKq(3,m,t.number)),e.xp6(2),e.Oqu(t.number),e.xp6(3),e.Oqu(t.title)}}function x(n,r){if(1&n&&(e.TgZ(0,"ion-list",9),e.YNc(1,w,6,5,"ion-item",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.songs)}}function Z(n,r){1&n&&(e.TgZ(0,"p",13),e._uU(1,"Nenhuma m\xfasica adicionada."),e.qZA())}let T=(()=>{var n;class r{constructor(i,o){this.eventService=i,this.errorService=o,this.loaded=!1,this.loading=!1,this.accordionGroupChange=c=>{this.loaded||this.getSongs()}}ngOnInit(){}getSongs(){this.loading=!0,this.eventService.songs(this.eventId).subscribe(i=>{this.songs=i,this.loaded=!0,this.loading=!1},i=>{this.loading=!1,this.errorService.handleError(i)})}}return(n=r).\u0275fac=function(i){return new(i||n)(e.Y36(p.P),e.Y36(v.T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-event-songs"]],inputs:{eventId:"eventId"},decls:10,vars:3,consts:[[3,"ionChange"],["value","songs"],["slot","header","color","secondary"],[1,"ion-no-margin"],["slot","content",1,"border-b"],["type","indeterminate",4,"ngIf"],["class","ion-no-padding",4,"ngIf"],["class","p-2 text-center",4,"ngIf"],["type","indeterminate"],[1,"ion-no-padding"],["lines","none","class","","detail","",3,"routerLink",4,"ngFor","ngForOf"],["lines","none","detail","",1,"",3,"routerLink"],[1,"pr-2","text-md","font-semibold"],[1,"p-2","text-center"]],template:function(i,o){1&i&&(e.TgZ(0,"ion-card")(1,"ion-accordion-group",0),e.NdJ("ionChange",function(g){return o.accordionGroupChange(g)}),e.TgZ(2,"ion-accordion",1)(3,"ion-item",2)(4,"h4",3),e._uU(5,"M\xfasicas"),e.qZA()(),e.TgZ(6,"div",4),e.YNc(7,h,1,0,"ion-progress-bar",5),e.YNc(8,x,2,1,"ion-list",6),e.YNc(9,Z,2,0,"p",7),e.qZA()()()()),2&i&&(e.xp6(7),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",o.loaded&&o.songs.length),e.xp6(1),e.Q6J("ngIf",o.loaded&&!o.songs.length))},dependencies:[l.sg,l.O5,s.We,s.eh,s.PM,s.Ie,s.Q$,s.q_,s.X7,s.YI,d.rH]}),r})();function E(n,r){1&n&&(e.TgZ(0,"div",9),e._UZ(1,"ion-spinner",10),e.qZA())}function S(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(", ",t.event.time,"")}}function A(n,r){if(1&n&&(e.TgZ(0,"div",18),e._UZ(1,"ion-icon",19),e._uU(2),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.event.local," ")}}function I(n,r){if(1&n&&(e.TgZ(0,"div",11)(1,"h1",12),e._uU(2),e.qZA(),e.TgZ(3,"div",13),e._UZ(4,"ion-icon",14),e._uU(5),e.ALo(6,"date"),e.YNc(7,S,2,1,"span",15),e.qZA(),e.YNc(8,A,3,1,"div",16),e.TgZ(9,"h4"),e._uU(10,"Descri\xe7\xe3o"),e.qZA(),e._UZ(11,"div",17),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.event.title),e.xp6(3),e.hij(" ",e.xi3(6,5,t.event.date,"d MMM Y")," "),e.xp6(2),e.Q6J("ngIf",t.event.time),e.xp6(1),e.Q6J("ngIf",t.event.local),e.xp6(3),e.Q6J("innerHTML",t.event.description,e.oJD)}}function P(n,r){if(1&n&&e._UZ(0,"app-event-songs",20),2&n){const t=e.oxw();e.Q6J("eventId",t.event.id)}}function Q(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-col",23)(1,"ion-button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.displayQuestion(!1))}),e._uU(2,"Cancelar"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("size",t.event.answer?"4":"6")}}function b(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card",21)(1,"ion-card-content")(2,"h2",22),e._uU(3,"Voc\xea vai participar deste evento?"),e.qZA(),e.TgZ(4,"ion-row")(5,"ion-col",23)(6,"ion-button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.sendAnswer("Sim"))}),e._uU(7,"Sim"),e.qZA()(),e.TgZ(8,"ion-col",23)(9,"ion-button",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.sendAnswer("N\xe3o"))}),e._uU(10,"N\xe3o"),e.qZA()(),e.YNc(11,Q,3,1,"ion-col",26),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("size",t.event.answer?"4":"6"),e.xp6(3),e.Q6J("size",t.event.answer?"4":"6"),e.xp6(3),e.Q6J("ngIf",t.event.answer)}}function J(n,r){1&n&&(e.TgZ(0,"span",33),e._uU(1,"n\xe3o"),e.qZA())}function C(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card",21)(1,"ion-card-content")(2,"div",28)(3,"div",29)(4,"h2"),e._uU(5," Voc\xea respondeu que "),e.YNc(6,J,2,0,"span",30),e._uU(7," vai participar deste evento. "),e.qZA()(),e.TgZ(8,"div",31)(9,"ion-button",32),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.displayQuestion(!0))}),e._uU(10," Alterar "),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngIf","N\xe3o"===t.event.answer)}}const U=[{path:"",component:(()=>{var n;class r{constructor(i,o,c,g){this.eventService=i,this.errorService=o,this.route=c,this.toastController=g,this.showQuestion=!1,this.loading=!0}ngOnInit(){this.getEvent()}getEvent(){const i=Number(this.route.snapshot.paramMap.get("id"));this.eventService.show(i).subscribe(o=>{console.log(o.data),this.event=o.data,this.event.answer||(this.showQuestion=!0),this.loading=!1},o=>{this.loading=!1,this.errorService.handleError(o)})}sendAnswer(i){this.eventService.syncAnswer({eventId:this.event.id,answer:i}).subscribe(c=>{!0===c.success?(this.event.answer=i,this.showQuestion=!1,this.presentToast("Resposta enviada com sucesso.")):this.presentToast("Erro ao salvar resposta.")},c=>{this.loading=!1,this.errorService.handleError(c)})}displayQuestion(i){this.showQuestion=i}presentToast(i){var o=this;return(0,f.Z)(function*(){yield(yield o.toastController.create({message:i,duration:2e3})).present()})()}}return(n=r).\u0275fac=function(i){return new(i||n)(e.Y36(p.P),e.Y36(v.T),e.Y36(d.gz),e.Y36(s.yF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-events-show"]],decls:11,vars:7,consts:[["mode","ios","collapse","fade",3,"translucent"],["mode","md"],["slot","start"],["defaultHref","/eventos"],[3,"fullscreen"],["class","loading",4,"ngIf"],["class","ion-padding",4,"ngIf"],[3,"eventId",4,"ngIf"],["color","light","class","m-0",4,"ngIf"],[1,"loading"],["name","dots"],[1,"ion-padding"],[1,"font-semibold"],[1,"infos"],["src","../../../assets/icon/calendar.svg",1,"mr-2"],[4,"ngIf"],["class","mt-1 infos",4,"ngIf"],[3,"innerHTML"],[1,"mt-1","infos"],["src","../../../assets/icon/marker.svg",1,"mr-2"],[3,"eventId"],["color","light",1,"m-0"],[1,"text-center"],[3,"size"],["expand","block","color","success",3,"click"],["expand","block","color","danger","fill","outline",3,"click"],[3,"size",4,"ngIf"],["expand","block","color","dark","fill","outline",3,"click"],[1,"flex","items-center","gap-4"],[1,"grow"],["class","font-semibold text-red-900 dark:text-[#ffc409]",4,"ngIf"],[1,"grow","p-0"],["fill","clear","color","tertiary",3,"click"],[1,"font-semibold","text-red-900","dark:text-[#ffc409]"]],template:function(i,o){1&i&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e._UZ(3,"ion-back-button",3),e.qZA()()(),e.TgZ(4,"ion-content",4),e.YNc(5,E,2,0,"div",5),e.YNc(6,I,12,8,"div",6),e.YNc(7,P,1,1,"app-event-songs",7),e.qZA(),e.TgZ(8,"ion-footer"),e.YNc(9,b,12,3,"ion-card",8),e.YNc(10,C,11,1,"ion-card",8),e.qZA()),2&i&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",o.event),e.xp6(1),e.Q6J("ngIf",o.event&&o.event.is_presentation),e.xp6(2),e.Q6J("ngIf",o.event&&o.event.is_member&&o.showQuestion),e.xp6(1),e.Q6J("ngIf",o.event&&o.event.is_member&&!o.showQuestion))},dependencies:[l.O5,s.oU,s.YG,s.Sm,s.PM,s.FN,s.wI,s.W2,s.fr,s.Gu,s.gu,s.Nd,s.PQ,s.sr,s.cs,T,l.uU],styles:["h4[_ngcontent-%COMP%]{font-weight:600}.infos[_ngcontent-%COMP%]{color:var(--ion-color-dark-tint);display:flex;align-items:center;font-size:.875rem;line-height:1.25rem;font-weight:600}"]}),r})()}];let N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(U),d.Bz]}),n})(),y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[{provide:e.soG,useValue:"pt-PT"}],imports:[l.ez,_.u5,s.Pc,N]}),n})()}}]);